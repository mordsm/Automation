<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script type="text/javascript" src=".static/scripts/translate.js"></script>

      <!-- load up the languages definition file -->
    <script type="text/javascript" src=".static/assets/libs/languages.js"></script>

     <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
<fieldset><legend>Testing</legend>
  <label id="lab"></label>
   <input id="lab1" type="text" ></input><br>
   <input id="lab3" type="text" ></input><br>
  <input id="lab2" type="text" onclick="getElementById('lab').innerHTML = Date()" ></input>


</fieldset>
 <script>
import json
import sys
import yaml
print(0)
js_data = {}
key = list(data.keys())[0]
js_data[key] = []
for request in data[key]:
    part = {}
    part["name"] = request["name"]
    part["commands"] = []
    for action in request["commands"]:
        if action["command"] == 'click':
            target = action["target"]
            target_parts = target.split("=");
            if target_parts[0]=="id":
              result = "$(#"+target_parts[1]+").click()"
            elif target_parts[0]=="css":
                result = "$("+target_parts[1]+").click()"
            elif target_parts[0]=="linkText":
                result =   $("a:contains("+target_parts[1]+")")


        elif action["command"] == 'type':
            //TODO copy and change wsame thing in python from Traverse class
        elif action["command"] == 'open':
           result = "window.location = "+action["target"]+")"
           result = "$(location).attr('href','"+action["target"]+"')";

        elif action["command"] == 'setWindowSize':
            width = int(action["target"].split("x")[0])
            height = int(action["target"].split("x")[1])
            result = "window.resizeTo("+width+","+ height+")";
        elif action["command"] == 'selectFrame':
            result = " parent.frames[" +  int(action["target"].split("=")[1]) +"]"
        part["commands"].push(result);
    js_data[key].push(part)


#j= json.load(data)
print(1)
print (yaml.dump(data))
print(2)


function text_to_speech( text){

        try{
            var msg = new SpeechSynthesisUtterance();
            msg.text = text;
            window.speechSynthesis.speak(msg);
            }
        catch(err){
            console.error(err);
            throw err;}}
function build_question( field_name){
        result = null;
        try{
            lang = detect(field_name);
            if (lang == "he"){
                field_name = translator.translate(field_name);}
            result = "please enter " + field_name;
            return result;}
        catch (err)
           { throw (err)}
}
function get_user_answer(question){
        try {
                while (true){
                    text_to_speech(question);
                    transcript = get_transcript();
                    if (transcript == "quit")
                        {return null;}
                    text_to_speech("Did You say :" + transcript + "? y(es)/n(o)");
                    confirm = get_transcript();
                    if (confirm == "y"|| confirm == "yes")
                      {return transcript;} }
             }
        catch(err){
            return null;}}
function get_transcript(){
    try {
      if (window.hasOwnProperty('webkitSpeechRecognition')) {
        var recognition = new webkitSpeechRecognition();
        recognition.continuous = false;
        recognition.interimResults = false;
        recognition.lang = "he-IL";
        recognition.start();
        recognition.onresult = function(e) {
          //document.getElementById('transcript').value
          recognition.stop();
          return(e.results[0][0].transcript);
        };
        recognition.onerror = function(e) {
          recognition.stop();
        }
      }
    }
    catch (err)
    {throw err;}
}








        document.getElementById("lab").innerHTML = "11111"
        document.getElementById("lab3").value = "lab3"
        $('#lab1').val("lab1");
        //window.location.replace("https://www.ynet.co.il");
        document.getElementById('lab1').click()
        //window.location = "https://www.ynet.co.il"
        $('#lab3').click()
        console.log("-1")
        window.resizeTo(500,500);
         console.log("0")
        $(location).attr('href','https://www.bankhapoalim.co.il/he/login');
        console.log("000000")
        $('.login-button > .desktop').click()
        console.log("1")
        $('#userCode').click()
         console.log("2")
        $('#userCode1').val("vn02727")
         console.log("3")
        $('#password').click()
         console.log("4")
        $('#password').val("mordsmi9")
        $('.red-coloring-btn').click()

    </script>
</body>
</html>